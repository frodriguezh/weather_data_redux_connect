{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frodriguez\\\\Documents\\\\react\\\\weather_data_redux_connect\\\\src\\\\components\\\\ForecastExtended.js\";\n\n/* eslint-disable no-console */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ForecastItem from './ForecastItem';\nimport transformForecast from './../services/transformForecast';\nimport './styles.css';\n/*\r\nconst days = [\r\n    'Lunes',\r\n    'Martes',\r\n    'Miercoles',\r\n    'Jueves',\r\n    'Viernes',\r\n];\r\n\r\nconst data = {\r\n    temperature: 10, \r\n    humidity: 10, \r\n    weatherState: 'normal',\r\n    wind: 'normal',\r\n};\r\n*/\n\nconst api_key = \"f99bbd9e4959b513e9bd0d7f7356b38d\";\nconst url = \"http://api.openweathermap.org/data/2.5/forecast\";\n\nclass ForecastExtended extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateCity = city => {\n      const url_forecast = `${url}?q=${city}&appid=${api_key}`;\n      fetch(url_forecast).then(data => data.json()).then(weather_data => {\n        console.log(weather_data);\n        const forecastData = transformForecast(weather_data);\n        console.log(forecastData);\n        this.setState({\n          forecastData\n        });\n      });\n    };\n\n    this.renderProgress = () => {\n      return /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 16\n        }\n      }, \"Cargando Pron\\xF3stico extendido...\");\n    };\n\n    this.state = {\n      forecastData: null\n    };\n  }\n\n  componentDidMount() {\n    this.updateCity(this.props.city);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.city !== this.props.city) {\n      this.setState({\n        forecastData: null\n      });\n      this.updateCity(nextProps.city);\n    }\n  }\n\n  renderForecastItemDays(forecastData) {\n    return forecastData.map(forecast => /*#__PURE__*/React.createElement(ForecastItem, {\n      key: `${forecast.weekDay}${forecast.hour}`,\n      weekDay: forecast.weekDay,\n      hour: forecast.hour,\n      data: forecast.data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }));\n  }\n\n  render() {\n    const {\n      city\n    } = this.props;\n    const {\n      forecastData\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"forecast-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, \"Pron\\xF3stico Extendido para \", city), forecastData ? this.renderForecastItemDays(forecastData) : this.renderProgress());\n  }\n\n}\n\nForecastExtended.propTypes = {\n  city: PropTypes.string.isRequired\n};\nexport default ForecastExtended;","map":{"version":3,"sources":["C:/Users/frodriguez/Documents/react/weather_data_redux_connect/src/components/ForecastExtended.js"],"names":["React","Component","PropTypes","ForecastItem","transformForecast","api_key","url","ForecastExtended","constructor","props","updateCity","city","url_forecast","fetch","then","data","json","weather_data","console","log","forecastData","setState","renderProgress","state","componentDidMount","componentWillReceiveProps","nextProps","renderForecastItemDays","map","forecast","weekDay","hour","render","propTypes","string","isRequired"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,iBAAP,MAA8B,iCAA9B;AACA,OAAO,cAAP;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,OAAO,GAAG,kCAAhB;AACA,MAAMC,GAAG,GAAG,iDAAZ;;AAEA,MAAMC,gBAAN,SAA+BN,SAA/B,CAAyC;AAErCO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAgBnBC,UAhBmB,GAgBNC,IAAI,IAAI;AACjB,YAAMC,YAAY,GAAI,GAAEN,GAAI,MAAKK,IAAK,UAASN,OAAQ,EAAvD;AAEAQ,MAAAA,KAAK,CAACD,YAAD,CAAL,CAAoBE,IAApB,CACIC,IAAI,IAAKA,IAAI,CAACC,IAAL,EADb,EAEEF,IAFF,CAGIG,YAAY,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACA,cAAMG,YAAY,GAAGhB,iBAAiB,CAACa,YAAD,CAAtC;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYC,YAAZ;AACA,aAAKC,QAAL,CAAc;AAAED,UAAAA;AAAF,SAAd;AACH,OARL;AAUH,KA7BkB;;AAAA,SAwCnBE,cAxCmB,GAwCF,MAAM;AACnB,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAAP;AACH,KA1CkB;;AAEf,SAAKC,KAAL,GAAa;AAAEH,MAAAA,YAAY,EAAE;AAAhB,KAAb;AACH;;AAEDI,EAAAA,iBAAiB,GAAG;AAChB,SAAKd,UAAL,CAAgB,KAAKD,KAAL,CAAWE,IAA3B;AACH;;AAEDc,EAAAA,yBAAyB,CAACC,SAAD,EAAY;AACjC,QAAIA,SAAS,CAACf,IAAV,KAAmB,KAAKF,KAAL,CAAWE,IAAlC,EAAwC;AACpC,WAAKU,QAAL,CAAc;AAAED,QAAAA,YAAY,EAAE;AAAhB,OAAd;AACA,WAAKV,UAAL,CAAgBgB,SAAS,CAACf,IAA1B;AACH;AACJ;;AAgBDgB,EAAAA,sBAAsB,CAACP,YAAD,EAAe;AACjC,WAAOA,YAAY,CAACQ,GAAb,CAAkBC,QAAQ,iBAC7B,oBAAC,YAAD;AACI,MAAA,GAAG,EAAG,GAAEA,QAAQ,CAACC,OAAQ,GAAED,QAAQ,CAACE,IAAK,EAD7C;AAEI,MAAA,OAAO,EAAEF,QAAQ,CAACC,OAFtB;AAGI,MAAA,IAAI,EAAED,QAAQ,CAACE,IAHnB;AAII,MAAA,IAAI,EAAEF,QAAQ,CAACd,IAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADG,CAAP;AAOH;;AAMDiB,EAAAA,MAAM,GAAG;AACL,UAAM;AAAErB,MAAAA;AAAF,QAAW,KAAKF,KAAtB;AACA,UAAM;AAAEW,MAAAA;AAAF,QAAmB,KAAKG,KAA9B;AACA,wBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACJ;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAA0DZ,IAA1D,CADI,EAEHS,YAAY,GACT,KAAKO,sBAAL,CAA4BP,YAA5B,CADS,GAET,KAAKE,cAAL,EAJA,CAAR;AAMH;;AAvDoC;;AA0DzCf,gBAAgB,CAAC0B,SAAjB,GAA6B;AACzBtB,EAAAA,IAAI,EAAET,SAAS,CAACgC,MAAV,CAAiBC;AADE,CAA7B;AAIA,eAAe5B,gBAAf","sourcesContent":["/* eslint-disable no-console */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ForecastItem from './ForecastItem';\r\nimport transformForecast from './../services/transformForecast';\r\nimport './styles.css';\r\n\r\n/*\r\nconst days = [\r\n    'Lunes',\r\n    'Martes',\r\n    'Miercoles',\r\n    'Jueves',\r\n    'Viernes',\r\n];\r\n\r\nconst data = {\r\n    temperature: 10, \r\n    humidity: 10, \r\n    weatherState: 'normal',\r\n    wind: 'normal',\r\n};\r\n*/\r\nconst api_key = \"f99bbd9e4959b513e9bd0d7f7356b38d\";\r\nconst url = \"http://api.openweathermap.org/data/2.5/forecast\";\r\n\r\nclass ForecastExtended extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { forecastData: null };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateCity(this.props.city);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.city !== this.props.city) {\r\n            this.setState({ forecastData: null });\r\n            this.updateCity(nextProps.city);\r\n        }\r\n    }\r\n\r\n    updateCity = city => {\r\n        const url_forecast = `${url}?q=${city}&appid=${api_key}`;\r\n\r\n        fetch(url_forecast).then(\r\n            data => (data.json())\r\n        ).then(\r\n            weather_data => {\r\n                console.log(weather_data);\r\n                const forecastData = transformForecast(weather_data);\r\n                console.log(forecastData);\r\n                this.setState({ forecastData });\r\n            }\r\n        );\r\n    }\r\n    renderForecastItemDays(forecastData) {\r\n        return forecastData.map( forecast => (\r\n            <ForecastItem \r\n                key={`${forecast.weekDay}${forecast.hour}`}\r\n                weekDay={forecast.weekDay} \r\n                hour={forecast.hour} \r\n                data={forecast.data}>\r\n            </ForecastItem>));\r\n    }\r\n\r\n    renderProgress = () => {\r\n        return <h3>Cargando Pronóstico extendido...</h3>;\r\n    }\r\n\r\n    render() {\r\n        const { city } = this.props;\r\n        const { forecastData } = this.state;\r\n        return (<div>\r\n            <h2 className='forecast-title'>Pronóstico Extendido para {city}</h2>\r\n            {forecastData ? \r\n                this.renderForecastItemDays(forecastData) :\r\n                this.renderProgress()}\r\n        </div>);\r\n    }\r\n}\r\n\r\nForecastExtended.propTypes = {\r\n    city: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default ForecastExtended;"]},"metadata":{},"sourceType":"module"}